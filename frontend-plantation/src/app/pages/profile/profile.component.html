<div class="profile-container">
  <h2>Profile Settings</h2>
  
  <form [formGroup]="profileForm" (ngSubmit)="onSubmit()" class="profile-form">
    <div class="form-group">
      <label for="username">Username</label>
      <input 
        type="text" 
        id="username" 
        formControlName="username" 
        class="form-control"
        [ngClass]="{'is-invalid': profileForm.get('username')?.invalid && profileForm.get('username')?.touched}"
      >
      <div class="invalid-feedback" *ngIf="profileForm.get('username')?.invalid && profileForm.get('username')?.touched">
        Username is required and must be at least 3 characters long
      </div>
    </div>

    <div class="form-group">
      <label for="email">Email</label>
      <input 
        type="email" 
        id="email" 
        formControlName="email" 
        class="form-control"
        [ngClass]="{'is-invalid': profileForm.get('email')?.invalid && profileForm.get('email')?.touched}"
      >
      <div class="invalid-feedback" *ngIf="profileForm.get('email')?.invalid && profileForm.get('email')?.touched">
        Please enter a valid email address
      </div>
    </div>

    <div class="password-section">
      <h3>Change Password (Optional)</h3>
      
      <div class="form-group">
        <label for="currentPassword">Current Password</label>
        <input 
          type="password" 
          id="currentPassword" 
          formControlName="currentPassword" 
          class="form-control"
        >
      </div>

      <div class="form-group">
        <label for="newPassword">New Password</label>
        <input 
          type="password" 
          id="newPassword" 
          formControlName="newPassword" 
          class="form-control"
          [ngClass]="{'is-invalid': profileForm.get('newPassword')?.invalid && profileForm.get('newPassword')?.touched}"
        >
        <div class="invalid-feedback" *ngIf="profileForm.get('newPassword')?.invalid && profileForm.get('newPassword')?.touched">
          Password must be at least 6 characters long
        </div>
      </div>

      <div class="form-group">
        <label for="confirmPassword">Confirm New Password</label>
        <input 
          type="password" 
          id="confirmPassword" 
          formControlName="confirmPassword" 
          class="form-control"
        >
      </div>
    </div>

    <div class="alert alert-success" *ngIf="message">{{ message }}</div>
    <div class="alert alert-danger" *ngIf="error">{{ error }}</div>

    <button type="submit" class="btn btn-primary" [disabled]="profileForm.invalid">Update Profile</button>
  </form>
</div> 